# 功能模块分析

## 概述

节点管理系统包含多个功能模块，每个模块负责特定的功能。这些模块通过Vue组件和Pinia状态管理库协同工作，提供完整的节点网络管理功能。

## 核心功能模块

### 1. 网络可视化模块 (NetworkGraph)

这是系统的核心模块，负责将节点和链接以图形化方式展示。

**主要功能**：
- 使用vis-network库渲染节点网络
- 支持节点的拖拽和移动
- 支持缩放和导航
- 节点和链接的高亮显示
- 响应节点和链接的选择事件

**技术实现**：
- 基于vis-network的网络图组件
- 与节点存储库集成，获取节点和链接数据
- 提供交互事件处理

### 2. 节点管理模块

负责节点的创建、编辑、删除和展示。

**主要组件**：
- NodeModal：节点编辑模态框
- NodeList：节点列表展示
- NodeTypeModal：节点类型管理模态框

**主要功能**：
- 添加新节点
- 编辑现有节点信息
- 删除节点
- 节点类型管理
- 节点标签管理

### 3. 链接管理模块

负责节点之间链接的创建、编辑和删除。

**主要组件**：
- LinkModal：链接编辑模态框
- LinkTypeModal：链接类型管理模态框

**主要功能**：
- 创建节点间的链接
- 编辑链接属性
- 删除链接
- 链接类型管理

### 4. 搜索与过滤模块

提供对节点和链接的搜索和过滤功能。

**主要组件**：
- SearchFilter：搜索和过滤界面

**主要功能**：
- 按名称搜索节点
- 按类型过滤节点和链接
- 按标签过滤节点

### 5. 层次结构管理模块

管理节点之间的层次关系。

**主要组件**：
- HierarchyManager：层次结构管理界面

**主要功能**：
- 定义节点间的父子关系
- 展示节点的层次结构
- 管理复杂的层级关系

### 6. 数据管理模块

负责系统数据的整体管理。

**主要组件**：
- DataManagement：数据管理界面

**主要功能**：
- 数据导入/导出
- 数据备份和恢复
- 批量操作支持

### 7. 设置模块

管理系统配置和用户偏好。

**主要组件**：
- Settings：系统设置界面
- HighlightSettings：高亮设置
- TagManager：标签管理
- TypeManager：类型管理

**主要功能**：
- 系统主题切换（日间/夜间模式）
- 高亮规则配置
- 节点/链接类型管理
- 标签管理

## 状态管理模块

系统使用Pinia作为状态管理库，主要包括以下存储模块：

### 1. 节点存储 (nodes.js)

管理节点和链接的数据状态。

**主要功能**：
- 存储所有节点和链接数据
- 管理模态框的打开/关闭状态
- 提供数据操作方法

### 2. 主题存储 (theme.js)

管理系统的主题设置。

**主要功能**：
- 存储当前主题（日间/夜间）
- 提供主题切换功能

### 3. 高亮存储 (highlight.js)

管理节点和链接的高亮设置。

**主要功能**：
- 存储高亮配置
- 提供高亮规则管理

### 4. 类型存储 (types.js)

管理节点和链接的类型定义。

**主要功能**：
- 存储节点类型定义
- 存储链接类型定义
- 提供类型管理功能